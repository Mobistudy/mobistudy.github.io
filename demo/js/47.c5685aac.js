(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[47],{"7e1d":function(t,a,i){"use strict";i.r(a);var r=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("q-page",{attrs:{padding:""}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.calibrating,expression:"!calibrating"}],staticClass:"text-center text-h6 q-mt-lg"},[t._v("\n    "+t._s(t.$t("studies.tasks.peakflow.calibration"))+"\n  ")]),i("div",{staticClass:"text-center q-mt-lg"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.calibrating,expression:"!calibrating"}]},[i("img",{staticStyle:{"max-width":"50%"},attrs:{src:"instructions/peakflow_3.svg"}})]),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.calibrationError&&!t.calibrating,expression:"!calibrationError && !calibrating"}]},[t._v("\n      "+t._s(t.$t("studies.tasks.peakflow.calibrationStart"))+"\n    ")]),t.calibrationError?i("p",[t._v("\n      "+t._s(t.$t("studies.tasks.peakflow.calibrationError"))+"\n    ")]):t._e()]),i("div",{staticClass:"row justify-center q-mt-lg"},[i("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.calibrating,expression:"!calibrating"}],attrs:{color:"primary",label:t.$t("common.start")},on:{click:t.startCalibration}})],1),i("q-inner-loading",{attrs:{showing:t.calibrating}},[i("div",{staticClass:"text-overline",attrs:{color:"dark-grey"}},[t._v(t._s(t.$t("studies.tasks.peakflow.calibrating")))]),i("q-spinner-dots",{attrs:{size:"40px",color:"primary"}})],1)],1)},s=[],e=i("ed5d"),n={name:"PeakFlowCalibratePage",props:{studyKey:String,taskId:Number},components:{},data:function(){return{isCompleted:!1,calibrationError:!1,calibrating:!1,calibrateAttempts:0,maxTime:3e4}},methods:{async startCalibration(){this.calibrateAttempts++,this.calibrating=!0,this.calibrationError=!1;try{await e["a"].startCalibration(this.maxTime),this.calibrating=!1,this.$router.push({name:"peakFlow",params:{studyKey:this.studyKey,taskId:parseInt(this.taskId)}})}catch(t){console.error("Error in calibration",t),this.calibrationError=!0,this.calibrating=!1}}},beforeDestroy:function(){e["a"].stopCalibration()}},o=n,l=i("2877"),c=i("9989"),b=i("9c40"),p=i("74f7"),d=i("8380"),m=i("eebe"),w=i.n(m),g=Object(l["a"])(o,r,s,!1,null,null,null);a["default"]=g.exports;w()(g,"components",{QPage:c["a"],QBtn:b["a"],QInnerLoading:p["a"],QSpinnerDots:d["a"]})}}]);