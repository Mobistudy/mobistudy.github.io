(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{"0acf":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-page",{attrs:{padding:""}},[r("div",{staticClass:"row fit justify-center"},[r("div",{staticClass:"text-h5 text-center q-pt-md"},[t._v("\n      "+t._s(t.$t("accountMgmt.registration.signUp"))+"\n    ")])]),r("q-input",{attrs:{label:t.$t("accountMgmt.email"),type:"email",error:t.$v.account.email.$error,"error-message":t.$t("accountMgmt.emailRequiredError")},on:{blur:t.$v.account.email.$touch},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"mail_outline"}})]},proxy:!0}]),model:{value:t.account.email,callback:function(e){t.$set(t.account,"email",e)},expression:"account.email"}}),r("q-input",{attrs:{label:t.$t("accountMgmt.password"),type:"password",error:t.$v.account.pw1.$error,"error-message":t.pwdCheckErrorMsg()},on:{blur:t.$v.account.pw1.$touch},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"vpn_key"}})]},proxy:!0}]),model:{value:t.account.pw1,callback:function(e){t.$set(t.account,"pw1",e)},expression:"account.pw1"}}),r("q-input",{attrs:{label:t.$t("accountMgmt.confirmPassword"),type:"password",error:t.$v.account.pw2.$error,"error-message":t.$t("accountMgmt.confirmPasswordError")},on:{blur:t.$v.account.pw2.$touch},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("q-icon",{attrs:{name:"vpn_key"}})]},proxy:!0}]),model:{value:t.account.pw2,callback:function(e){t.$set(t.account,"pw2",e)},expression:"account.pw2"}}),r("div",{staticClass:"row fit justify-around q-mt-lg"},[r("q-btn",{attrs:{color:"secondary",to:"/login",label:t.$t("common.cancel")}}),r("q-btn",{attrs:{color:"primary",disable:t.$v.account.$error,label:t.$t("accountMgmt.registration.createAccount")},on:{click:function(e){return t.register()}}})],1)],1)},a=[],o=r("967e"),c=r.n(o),s=(r("96cf"),r("fa84")),i=r.n(s),u=r("0d3a"),l=r("aa9c"),p=r("9bf1"),m=r("b5ae"),d={name:"SignUp",data:function(){return{account:{email:"",pw1:"",pw2:""}}},validations:function(){return{account:{email:{required:m["required"],email:m["email"]},pw1:{required:m["required"],pwdStrength:Object(u["a"])(this.account.email)},pw2:{sameAsPassword:Object(m["sameAs"])("pw1")}}}},methods:{pwdCheckErrorMsg:function(){var t=Object(u["c"])(this.email,this.account.pw1),e=this.$i18n.t(t,u["b"]);return e},register:function(){var t=this;return i()(c.a.mark((function e(){var r;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$v.account.$touch(),!t.$v.account.$error){e.next=5;break}t.$q.notify(t.$i18n.t("errors.correctFields")),e.next=20;break;case 5:return e.prev=5,e.next=8,l["a"].registerUser(t.account.email.toLowerCase(),t.account.pw1);case 8:return e.next=10,l["a"].login(t.account.email.toLowerCase(),t.account.pw1);case 10:return r=e.sent,e.next=13,p["a"].login(r);case 13:l["a"].setToken(r.token),t.$router.push("/register_profile"),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](5),e.t0.response&&409===e.t0.response.status?t.$q.notify({color:"negative",message:t.$i18n.t("accountMgmt.registration.registrationErrorUserExists"),icon:"report_problem"}):t.$q.notify({color:"negative",message:t.$i18n.t("accountMgmt.registration.registrationError")+": "+e.t0.message,icon:"report_problem"});case 20:case"end":return e.stop()}}),e,null,[[5,17]])})))()}}},w=d,g=r("2877"),$=r("9989"),f=r("27f9"),b=r("0016"),v=r("9c40"),h=r("eebe"),k=r.n(h),q=Object(g["a"])(w,n,a,!1,null,null,null);e["default"]=q.exports;k()(q,"components",{QPage:$["a"],QInput:f["a"],QIcon:b["a"],QBtn:v["a"]})}}]);