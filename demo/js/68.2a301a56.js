(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[68],{faf2:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("q-page",{attrs:{padding:""}},[e("div",{staticClass:"text-center"},[e("div",{staticClass:"text-h5"},[t._v(t._s(t.$t("studies.tasks.capTestComplete")))]),e("img",{staticClass:"q-mt-md",staticStyle:{width:"50%",margin:"0px auto"},attrs:{alt:"Finish flag",src:a("0b00")}}),e("div",{staticClass:"text-h6 q-mt-md"},[t._v(t._s(t.$t("studies.tasks.capTestCompleteSubtext")))]),e("table",{staticClass:"summaryTable"},[e("tr",[e("td",[t._v(t._s(t.$t("studies.tasks.smwt.time")))]),e("td",[t._v(" "+t._s(t.minutes)+":"+t._s(t.seconds))])]),e("tr",[e("td",[t._v(t._s(t.$t("studies.tasks.smwt.distance")))]),e("td",[t._v(t._s(t.report.summary.distance.toFixed(2))+" m")])]),t.report.summary.steps?e("tr",[e("td",[t._v(t._s(t.$t("studies.tasks.smwt.steps")))]),e("td",[t._v(t._s(t.report.summary.steps))])]):t._e()]),e("div",{staticClass:"q-pa-md"},[e("p",{staticClass:"mobitxt2"},[t._v(t._s(t.$t("studies.tasks.smwt.borgScale.intro")))]),e("q-list",{attrs:{bordered:""}},[e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[e("q-item-section",{attrs:{avatar:""}},[e("q-radio",{attrs:{val:"0"},model:{value:t.borgValue,callback:function(e){t.borgValue=e},expression:"borgValue"}})],1),e("q-item-section",[e("q-item",{staticClass:"mobitxt1"},[t._v("0 "+t._s(t.$t("studies.tasks.smwt.borgScale.l0")))])],1)],1),e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[e("q-item-section",{attrs:{avatar:""}},[e("q-radio",{attrs:{val:"0.5"},model:{value:t.borgValue,callback:function(e){t.borgValue=e},expression:"borgValue"}})],1),e("q-item-section",[e("q-item",{staticClass:"mobitxt1"},[t._v("0.5 "+t._s(t.$t("studies.tasks.smwt.borgScale.l05")))])],1)],1),e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[e("q-item-section",{attrs:{avatar:"",top:""}},[e("q-radio",{attrs:{val:"1"},model:{value:t.borgValue,callback:function(e){t.borgValue=e},expression:"borgValue"}})],1),e("q-item-section",[e("q-item",{staticClass:"mobitxt1"},[t._v("1 "+t._s(t.$t("studies.tasks.smwt.borgScale.l1")))])],1)],1),e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[e("q-item-section",{attrs:{avatar:""}},[e("q-radio",{attrs:{val:"2"},model:{value:t.borgValue,callback:function(e){t.borgValue=e},expression:"borgValue"}})],1),e("q-item-section",[e("q-item",{staticClass:"mobitxt1"},[t._v("2 "+t._s(t.$t("studies.tasks.smwt.borgScale.l2")))])],1)],1),e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[e("q-item-section",{attrs:{avatar:""}},[e("q-radio",{attrs:{val:"3"},model:{value:t.borgValue,callback:function(e){t.borgValue=e},expression:"borgValue"}})],1),e("q-item-section",[e("q-item",{staticClass:"mobitxt1"},[t._v("3 "+t._s(t.$t("studies.tasks.smwt.borgScale.l3")))])],1)],1),e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[e("q-item-section",{attrs:{avatar:"",top:""}},[e("q-radio",{attrs:{val:"4"},model:{value:t.borgValue,callback:function(e){t.borgValue=e},expression:"borgValue"}})],1),e("q-item-section",[e("q-item",{staticClass:"mobitxt1"},[t._v("4 "+t._s(t.$t("studies.tasks.smwt.borgScale.l4")))])],1)],1),e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[e("q-item-section",{attrs:{avatar:""}},[e("q-radio",{attrs:{val:"5"},model:{value:t.borgValue,callback:function(e){t.borgValue=e},expression:"borgValue"}})],1),e("q-item-section",[e("q-item",{staticClass:"mobitxt1"},[t._v("5 "+t._s(t.$t("studies.tasks.smwt.borgScale.l5")))])],1)],1),e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[e("q-item-section",{attrs:{avatar:""}},[e("q-radio",{attrs:{val:"6"},model:{value:t.borgValue,callback:function(e){t.borgValue=e},expression:"borgValue"}})],1),e("q-item-section",[e("q-item",{staticClass:"mobitxt1"},[t._v("6")])],1)],1),e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[e("q-item-section",{attrs:{avatar:"",top:""}},[e("q-radio",{attrs:{val:"7"},model:{value:t.borgValue,callback:function(e){t.borgValue=e},expression:"borgValue"}})],1),e("q-item-section",[e("q-item",{staticClass:"mobitxt1"},[t._v("7 "+t._s(t.$t("studies.tasks.smwt.borgScale.l7")))])],1)],1),e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[e("q-item-section",{attrs:{avatar:""}},[e("q-radio",{attrs:{val:"8"},model:{value:t.borgValue,callback:function(e){t.borgValue=e},expression:"borgValue"}})],1),e("q-item-section",[e("q-item",{staticClass:"mobitxt1"},[t._v("8")])],1)],1),e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[e("q-item-section",{attrs:{avatar:""}},[e("q-radio",{attrs:{val:"9"},model:{value:t.borgValue,callback:function(e){t.borgValue=e},expression:"borgValue"}})],1),e("q-item-section",[e("q-item",{staticClass:"mobitxt1"},[t._v("9 "+t._s(t.$t("studies.tasks.smwt.borgScale.l9")))])],1)],1),e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[e("q-item-section",{attrs:{avatar:"",top:""}},[e("q-radio",{attrs:{val:"10"},model:{value:t.borgValue,callback:function(e){t.borgValue=e},expression:"borgValue"}})],1),e("q-item-section",[e("q-item",{staticClass:"mobitxt1"},[t._v("10 "+t._s(t.$t("studies.tasks.smwt.borgScale.l10")))])],1)],1)],1),e("div",{staticClass:"q-mt-sm"},[e("p",{staticClass:"mobitxt2"},[t._v(t._s(t.$t("studies.tasks.smwt.borgScale.result"))+" "),e("strong",[t._v(t._s(t.borgValue))])])])],1),e("div",{staticClass:"row justify-around"},[e("q-btn",{staticClass:"mobibtn",attrs:{color:"negative",loading:t.sending,label:t.$t("common.discard")},on:{click:function(e){return t.discard()}}}),e("q-btn",{staticClass:"mobibtn",attrs:{color:"primary",loading:t.sending,label:t.$t("common.send"),disabled:!t.borgValue},on:{click:function(e){return t.send()}}})],1)])])},i=[],r=(a("14d9"),a("c313")),l=a("6a6d"),o=a("7937"),m={name:"SMWTSummaryPage",props:{report:Object},data:function(){return{borgValue:void 0,sending:!1}},methods:{async saveAndLeave(){try{console.log(this.report),await r["a"].sendTasksResults(this.report),await l["a"].setTaskCompletion(this.report.studyKey,this.report.taskId,new Date),this.$router.push({name:"home"})}catch(t){this.sending=!1,console.error(t),this.$q.notify({color:"negative",message:this.$t("errors.connectionError")+" "+t.message,icon:"report_problem"})}},async send(){return this.sending=!0,this.report.summary.borgScale=Number(this.borgValue),this.report.discarded=!1,this.saveAndLeave()},async discard(){return this.sending=!0,this.report.discarded=!0,delete this.report.summary,delete this.report.data,this.saveAndLeave()}},computed:{totalTime(){return Math.floor((this.report.summary.completedTS-this.report.summary.startedTS)/1e3)},minutes(){return o["c"].pad(Math.floor(this.totalTime/60),2)},seconds(){return o["c"].pad(Math.floor(this.totalTime-60*this.minutes),2)}}},c=m,n=a("2877"),d=a("9989"),u=a("1c1c"),b=a("66e5"),p=a("4074"),v=a("3786"),g=a("9c40"),q=a("714f"),_=a("eebe"),V=a.n(_),w=Object(n["a"])(c,s,i,!1,null,null,null);e["default"]=w.exports;V()(w,"components",{QPage:d["a"],QList:u["a"],QItem:b["a"],QItemSection:p["a"],QRadio:v["a"],QBtn:g["a"]}),V()(w,"directives",{Ripple:q["a"]})}}]);