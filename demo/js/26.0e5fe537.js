(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[26],{c20a:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t._self._c;return s("q-layout",[s("q-page-container",[s("q-page",{attrs:{padding:""}},[s("div",{staticClass:"fit row justify-center"},[s("div",{staticClass:"text-h4"},[t._v(t._s(t.$t("accountMgmt.resetPassword.newPassword")))])]),s("div",{staticClass:"fit row justify-center q-mt-lg"},[s("p",{staticClass:"col"},[t._v(t._s(t.$t("accountMgmt.resetPassword.newPasswordExplanation")))])]),s("div",{staticClass:"fit row justify-center q-mt-lg"},[s("q-input",{staticClass:"col-grow",attrs:{padding:"md lg",type:"textarea",autogrow:"",clearable:"",label:t.$t("accountMgmt.resetPassword.token"),hint:t.$t("accountMgmt.resetPassword.tokenHint"),error:t.$v.token.$error,"error-message":t.$t("accountMgmt.resetPassword.tokenError")},nativeOn:{blur:function(s){return t.$v.token.$touch.apply(null,arguments)}},model:{value:t.token,callback:function(s){t.token=s},expression:"token"}})],1),s("div",{staticClass:"fit row justify-center q-mt-lg"},[s("q-input",{staticClass:"col-grow",attrs:{padding:"md lg",label:t.$t("accountMgmt.resetPassword.newPassword"),type:t.showNewPassword?"text":"password",error:t.$v.newpw.$error,"error-message":t.pwdCheckErrorMsg(),append:""},nativeOn:{blur:function(s){return t.$v.newpw.$touch.apply(null,arguments)}},scopedSlots:t._u([{key:"append",fn:function(){return[t.showNewPassword?s("q-icon",{attrs:{name:"visibility_off"},on:{click:function(s){t.showNewPassword=!1}}}):s("q-icon",{attrs:{name:"visibility"},on:{click:function(s){t.showNewPassword=!0}}})]},proxy:!0}]),model:{value:t.newpw,callback:function(s){t.newpw=s},expression:"newpw"}})],1),s("div",{staticClass:"fit row justify-center q-mt-lg"},[s("q-input",{staticClass:"col-grow",attrs:{padding:"md lg",label:t.$t("accountMgmt.resetPassword.confirmPwd"),type:t.showConfirmPassword?"text":"password",error:t.$v.confpw.$error,"error-message":t.$t("accountMgmt.resetPassword.pwdMustMatch"),append:""},nativeOn:{blur:function(s){return t.$v.confpw.$touch.apply(null,arguments)}},scopedSlots:t._u([{key:"append",fn:function(){return[t.showConfirmPassword?s("q-icon",{attrs:{name:"visibility_off"},on:{click:function(s){t.showConfirmPassword=!1}}}):s("q-icon",{attrs:{name:"visibility"},on:{click:function(s){t.showConfirmPassword=!0}}})]},proxy:!0}]),model:{value:t.confpw,callback:function(s){t.confpw=s},expression:"confpw"}})],1),s("div",{staticClass:"fit row justify-center q-mt-lg"},[s("div",{staticClass:"q-ma-sm"},[s("q-btn",{staticClass:"float-right",attrs:{padding:"md lg",label:t.$t("common.cancel"),color:"secondary",to:"/login"}})],1),s("div",{staticClass:"q-ma-sm"},[s("q-btn",{staticClass:"float-right",attrs:{padding:"md lg",label:t.$t("accountMgmt.resetPassword.changePassword"),color:"primary",type:"submit"},on:{click:t.resetUserPassword}})],1)])])],1)],1)},o=[],n=(e("14d9"),e("4caa")),r=e("1c6d"),i=e("2dba"),c=e("0d3a"),l=e("b5ae"),w=e("9bf1"),d=e("c313"),u={name:"ChangePasswordPage",props:["email"],i18n:{messages:Object(i["a"])(n["a"],r["a"])},data(){return{userEmail:this.email,token:void 0,newpw:void 0,confpw:void 0,showNewPassword:!1,showConfirmPassword:!1}},validations(){return{token:{required:l["required"]},newpw:{required:l["required"],pwdStrength:Object(c["a"])(this.userEmail)},confpw:{sameAsPassword:Object(l["sameAs"])("newpw")}}},async created(){await w["a"].logout()},methods:{pwdCheckErrorMsg(){let t=Object(c["c"])(this.email,this.newpw),s=this.$i18n.t(t,c["b"]);return s},async resetUserPassword(){if(this.$v.$touch(),!this.$v.$invalid)try{await d["a"].changePW(this.token,this.newpw),this.$q.dialog({title:this.$i18n.t("accountMgmt.resetPassword.passwordChanged"),message:this.$i18n.t("accountMgmt.resetPassword.passwordChangedExplanation"),ok:!0,cancel:!1,preventClose:!0}).onOk((()=>{this.$router.push("/login")}))}catch(t){this.$q.notify({color:"negative",message:this.$i18n.t("accountMgmt.resetPassword.changePasswordError")+": "+t.message,icon:"report_problem"})}}}},p=u,m=e("2877"),g=e("4d5a"),f=e("09e3"),h=e("9989"),v=e("27f9"),P=e("0016"),$=e("9c40"),b=e("eebe"),y=e.n(b),k=Object(m["a"])(p,a,o,!1,null,null,null);s["default"]=k.exports;y()(k,"components",{QLayout:g["a"],QPageContainer:f["a"],QPage:h["a"],QInput:v["a"],QIcon:P["a"],QBtn:$["a"]})}}]);