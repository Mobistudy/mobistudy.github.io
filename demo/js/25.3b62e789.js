(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{"4deb":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",{attrs:{padding:""}},[r("div",{staticClass:"row fit justify-center"},[r("div",{staticClass:"text-h5 text-center q-pt-md"},[e._v("\n      "+e._s(e.$t("accountMgmt.registration.createProfile"))+"\n    ")])]),r("profile-editor",{key:e.componentKey,attrs:{buttonOk:e.$t("common.next")},on:{buttonOk:function(t){return e.saveProfile()},"language-changed":e.forceRerender},model:{value:e.profile,callback:function(t){e.profile=t},expression:"profile"}})],1)},a=[],o=(r("96cf"),r("c973")),i=r.n(o),s=r("b006"),c=r("aa9c"),u=r("9bf1"),f={name:"RegisterPage",components:{ProfileEditor:s["a"]},data:function(){return{profile:{name:"",surname:"",dateOfBirth:"",country:"",language:"",sex:"",diseases:[],medications:[],studiesSuggestions:!0},componentKey:0}},methods:{saveProfile:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r="",e.profile.dateOfBirth instanceof Date?r=e.profile.dateOfBirth.toISOString().substring(0,10):"string"===typeof e.profile.dateOfBirth?r=e.profile.dateOfBirth.substring(0,10):(r=e.profile.dateOfBirth,console.error(e.profile.dateOfBirth+" cannot be cut to date only")),n=e.profile,n.dateOfBirth=r,n.userKey=u["a"].user._key,n.updatedTS=new Date,n.createdTS=new Date,t.next=10,c["a"].createProfile(n);case 10:return t.next=12,u["a"].setProfile(n);case 12:e.$router.push({name:"tasker",params:{rescheduleTasks:!0,checkNewStudies:!0}}),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),e.$q.notify({color:"negative",message:e.$i18n.t("accountMgmt.registration.registrationError")+": "+t.t0.message,icon:"report_problem"});case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},forceRerender:function(){this.componentKey+=1}}},l=f,p=r("2877"),d=r("9989"),g=r("eebe"),m=r.n(g),h=Object(p["a"])(l,n,a,!1,null,null,null);t["default"]=h.exports;m()(h,"components",{QPage:d["a"]})}}]);