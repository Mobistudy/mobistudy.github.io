(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[35],{e331:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",[n("q-page",{attrs:{padding:""}},[n("div",{staticClass:"text-h5 q-mt-lg"},[e._v("\n      Test Page. App version: "+e._s(e.appVersion)+"\n    ")]),n("div",{staticClass:"q-mt-md"},[n("q-btn",{attrs:{color:"white","text-color":"black",label:"Start GPS"},on:{click:e.startGPS}}),n("q-btn",{attrs:{color:"white","text-color":"black",label:"Stop GPS"},on:{click:e.stopGPS}})],1),n("p",[e._v(e._s(e.coordsOutput))]),n("audio",{ref:"sound_click"},[n("source",{attrs:{src:"sounds/click.wav",type:"audio/wav"}})]),n("div",{staticClass:"q-mt-md"},[n("q-btn",{attrs:{color:"white","text-color":"black",label:"Play sound"},on:{touchstart:e.playSound}})],1),n("div",{staticClass:"q-mt-md"},[n("q-btn",{attrs:{color:"white","text-color":"black",label:"Save File"},on:{click:e.saveFile}})],1),n("p",[e._v(e._s(e.fileOutput))])])],1)},o=[],a=(n("96cf"),n("c973")),i=n.n(a),c=n("efed"),s=(n("d3b7"),n("e6cf"),n("0967")),u=function(e){switch(e){case 1:return"NOT_FOUND_ERR";case 2:return"SECURITY_ERR";case 3:return"ABORT_ERR";case 4:return"NOT_READABLE_ERR";case 5:return"ENCODING_ERR";case 6:return"NO_MODIFICATION_ALLOWED_ERR";case 7:return"INVALID_STATE_ERR";case 8:return"SYNTAX_ERR";case 9:return"INVALID_MODIFICATION_ERR";case 10:return"QUOTA_EXCEEDED_ERR";case 11:return"TYPE_MISMATCH_ERR";case 12:return"PATH_EXISTS_ERR";default:return"Unknown Error "+e}},l={openFile:function(e,t,n,r){return i()(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=s["b"].is.ios?cordova.file.documentsDirectory:cordova.file.externalDataDirectory,t.abrupt("return",new Promise((function(t,r){window.resolveLocalFileSystemURL(n,(function(n){n.getFile(e,{create:!0},(function(e){t(e)}),(function(t){r("Cannot get file "+e+", "+u(t.code))}))}))})));case 2:case"end":return t.stop()}}),t)})))()},load:function(e){var t=this;return i()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.openFile(e);case 2:return r=n.sent,n.abrupt("return",new Promise((function(t,n){r.file((function(e){var n=new FileReader;n.onloadend=function(){t(JSON.parse(this.result))},n.readAsText(e)}),(function(t){n("Cannot read file "+e+": "+u(t.code))}))})));case 4:case"end":return n.stop()}}),n)})))()},save:function(e,t){var n=this;return i()(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,n.openFile(e);case 2:return o=r.sent,r.abrupt("return",new Promise((function(e,n){o.createWriter((function(r){var o=JSON.stringify(t);r.onwriteend=function(t){e()},r.onerror=function(e){n("Cannot write to file: "+u(e.code))},r.write(o)}))})));case 4:case"end":return r.stop()}}),r)})))()}},p={name:"TestPage",data:function(){return{appVersion:'"0.2.1"',coordsOutput:"GPS stopped",fileOutput:"No file read"}},destroyed:function(){return i()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c["a"].geolocation.stopNotifications();case 1:case"end":return e.stop()}}),e)})))()},methods:{startGPS:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.coordsOutput="starting GPS",t.next=3,c["a"].geolocation.isAvailable();case 3:if(!t.sent){t.next=8;break}return t.next=6,c["a"].geolocation.requestPermission();case 6:if(!t.sent){t.next=8;break}c["a"].geolocation.startNotifications({maximumAge:5e3,timeout:5e3,enableHighAccuracy:!0},function(){var t=i()(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(n),e.coordsOutput=n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.coordsOutput=t}));case 8:case"end":return t.stop()}}),t)})))()},stopGPS:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].geolocation.stopNotifications();case 2:e.coordsOutput="GPS stopped";case 3:case"end":return t.stop()}}),t)})))()},playSound:function(){this.$refs.sound_click.play()},saveFile:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("saving file"),t.next=3,l.save("test.text",{test:"hello"});case 3:return console.log("file saved"),t.next=6,l.load("test.text");case 6:n=t.sent,e.fileOutput="File content: "+JSON.stringify(n),console.log(n);case 9:case"end":return t.stop()}}),t)})))()}}},f=p,d=n("2877"),w=n("4d5a"),m=n("9989"),R=n("9c40"),v=n("eebe"),g=n.n(v),h=Object(d["a"])(f,r,o,!1,null,null,null);t["default"]=h.exports;g()(h,"components",{QLayout:w["a"],QPage:m["a"],QBtn:R["a"]})}}]);