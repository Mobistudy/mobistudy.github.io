(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[58],{a804:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t._self._c;return s("q-page",{attrs:{padding:""}},[s("div",{staticClass:"text-center"},[s("div",{staticClass:"text-center text-h5 q-mt-lg"},[t._v("\n      "+t._s(t.$t("studies.tasks.peakflow.summary"))+"\n    ")]),s("div",{staticClass:"text-center mobitxt2 q-my-lg"},t._l(t.PEFs,(function(e,a){return s("p",{key:"pef"+a,attrs:{data:e}},[t._v("\n        "+t._s(a+1)+") "+t._s(e)+" L/min\n      ")])})),0),s("div",{staticClass:"text-bold mobitxt1 q-my-lg"},[t._v("\n      "+t._s(t.$t("studies.tasks.peakflow.todayBest"))+" "+t._s(t.pefMax)+" L/min\n    ")])]),s("div",{staticClass:"row justify-around q-mt-lg"},[s("q-btn",{staticClass:"mobibtn",attrs:{color:"negative",loading:t.sending,label:t.$t("common.discard")},on:{click:function(s){return t.discard()}}}),s("q-btn",{staticClass:"mobibtn",attrs:{color:"primary",loading:t.sending,label:t.$t("common.send")},on:{click:function(s){return t.send()}}})],1)])},n=[],r=(e("14d9"),e("c313")),i=e("6a6d"),o={name:"PeakFlowSummaryPage",props:{report:Object},data:function(){return console.log(this.report),{PEFs:this.report.data.PEFs,pefMax:this.report.summary.pefMax,sending:!1}},methods:{async saveAndLeave(){try{await r["a"].sendTasksResults(this.report),await i["a"].setTaskCompletion(this.report.studyKey,this.report.taskId,new Date),this.sending=!1,this.$router.push("/home")}catch(t){this.sending=!1,console.error(t),this.$q.notify({color:"negative",message:this.$t("errors.connectionError")+" "+t.message,icon:"report_problem"})}},async send(){return this.sending=!0,this.report.discarded=!1,this.saveAndLeave()},async discard(){return this.sending=!0,this.report.discarded=!0,delete this.report.summary,delete this.report.data,this.saveAndLeave()}}},d=o,c=e("2877"),l=e("9989"),p=e("9c40"),m=e("eebe"),u=e.n(m),h=Object(c["a"])(d,a,n,!1,null,null,null);s["default"]=h.exports;u()(h,"components",{QPage:l["a"],QBtn:p["a"]})}}]);