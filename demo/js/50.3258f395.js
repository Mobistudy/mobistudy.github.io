(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[50],{"27bf":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("q-page",{attrs:{padding:""}},[e("div",{staticClass:"text-center text-h5 q-mt-lg"},[t._v("\n    "+t._s(t.$t("studies.tasks.holdPhone.title"))+"\n  ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:0===t.testPhase,expression:"testPhase === 0"}],staticClass:"text-center text-subtitle1 q-mt-xl"},[t._v("\n    "+t._s(t.$t("studies.tasks.holdPhone.instructions.preRestingLeft"))+"\n  ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.testPhase,expression:"testPhase === 2"}],staticClass:"text-center text-subtitle1 q-mt-xl"},[t._v("\n    "+t._s(t.$t("studies.tasks.holdPhone.instructions.preRestingRight"))+"\n  ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:4===t.testPhase,expression:"testPhase === 4"}],staticClass:"text-center text-subtitle1 q-mt-xl"},[t._v("\n    "+t._s(t.$t("studies.tasks.holdPhone.instructions.prePosturalLeft"))+"\n  ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:6===t.testPhase,expression:"testPhase === 6"}],staticClass:"text-center text-subtitle1 q-mt-xl"},[t._v("\n    "+t._s(t.$t("studies.tasks.holdPhone.instructions.prePosturalRight"))+"\n  ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:8===t.testPhase,expression:"testPhase === 8"}],staticClass:"text-center text-subtitle1 q-mt-lg"},[t._v("\n    "+t._s(t.$t("studies.tasks.holdPhone.instructions.preKineticLeft"))+"\n  ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:10===t.testPhase,expression:"testPhase === 10"}],staticClass:"text-center text-subtitle1 q-mt-xl"},[t._v("\n    "+t._s(t.$t("studies.tasks.holdPhone.instructions.preKineticRight"))+"\n  ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.testPhase%2!=0,expression:"testPhase % 2 != 0"}],staticClass:"text-center text-subtitle1 q-mt-xl"},[t._v("\n    "+t._s(t.$t("studies.tasks.holdPhone.instructions.afterStart"))+"\n  ")]),e("div",{staticClass:"row justify-center q-mt-xl"},[e("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.testPhase%2==0,expression:"testPhase % 2 == 0"}],attrs:{color:"primary",label:t.$t("common.start")},on:{click:t.startTest}})],1)])},r=[],a=(s("14d9"),s("a5f6")),o=s("9bf1");const n=10;let h=[],l=[];var p={name:"HoldThePhonePage",props:{studyKey:String,taskId:Number},data:function(){return{timer:void 0,report:{userKey:o["a"].user._key,participantKey:o["a"].user.participantKey,studyKey:this.studyKey,taskId:parseInt(this.taskId),taskType:"holdPhone",createdTS:new Date,phone:a["a"].device,summary:{startedTS:"",completedTS:"",resting:{left:{},right:{}},postural:{left:{},right:{}},kinetic:{left:{},right:{}}},data:{resting:{left:{},right:{}},postural:{left:{},right:{}},kinetic:{left:{},right:{}}}},testPhase:0}},methods:{async startTest(){this.testPhase++,a["a"].screen.forbidSleep(),this.testPhase%2!==0&&(h=[],l=[]);let t=new Date;1===this.testPhase?(this.report.summary.startedTS=t,this.report.summary.resting.left.startedTS=t,this.report.data.resting.left.startedTS=t):3===this.testPhase?(this.report.summary.resting.right.startedTS=t,this.report.data.resting.right.startedTS=t):5===this.testPhase?(this.report.summary.postural.left.startedTS=t,this.report.data.postural.left.startedTS=t):7===this.testPhase?(this.report.summary.postural.right.startedTS=t,this.report.data.postural.right.startedTS=t):9===this.testPhase?(this.report.summary.kinetic.left.startedTS=t,this.report.data.kinetic.left.startedTS=t):11===this.testPhase&&(this.report.summary.kinetic.right.startedTS=t,this.report.data.kinetic.right.startedTS=t);try{await a["a"].orientation.isAvailable()&&(await a["a"].orientation.requestPermission(),a["a"].orientation.startNotifications({},(t=>{h.push(t)}),(t=>{console.error("Error getting orientation event",t)})))}catch(e){console.error("Error getting OrientationEvent",e)}try{await a["a"].motion.isAvailable()&&(await a["a"].motion.requestPermission(),a["a"].motion.startNotifications({},(t=>{l.push(t)}),(t=>{console.error("Error getting MotionEvent",t)})))}catch(e){console.error("Error getting MotionEvent",e)}this.timer=setTimeout(this.completePhase,1e3*n)},stopTimer(){clearTimeout(this.timer)},completePhase(){this.stopTimer(),a["a"].orientation.stopNotifications(),a["a"].motion.stopNotifications(),a["a"].screen.allowSleep(),a["a"].vibrate(2e3);let t=new Date;if(1===this.testPhase)this.report.data.resting.left.completedTS=t,this.report.summary.resting.left.completedTS=t,this.report.data.resting.left.motion=l,this.report.data.resting.left.orientation=h;else if(3===this.testPhase)this.report.data.resting.right.completedTS=t,this.report.summary.resting.right.completedTS=t,this.report.data.resting.right.motion=l,this.report.data.resting.right.orientation=h;else if(5===this.testPhase)this.report.data.postural.left.completedTS=t,this.report.summary.postural.left.completedTS=t,this.report.data.postural.left.motion=l,this.report.data.postural.left.orientation=h;else if(7===this.testPhase)this.report.data.postural.right.completedTS=t,this.report.summary.postural.right.completedTS=t,this.report.data.postural.right.motion=l,this.report.data.postural.right.orientation=h;else if(9===this.testPhase)this.report.data.kinetic.left.completedTS=t,this.report.summary.kinetic.left.completedTS=t,this.report.data.kinetic.left.motion=l,this.report.data.kinetic.left.orientation=h;else if(11===this.testPhase)return this.report.data.kinetic.right.completedTS=t,this.report.summary.kinetic.right.completedTS=t,this.report.data.kinetic.right.motion=l,this.report.data.kinetic.right.orientation=h,this.report.summary.completedTS=new Date,void this.$router.push({name:"holdPhoneSummary",params:{report:this.report}});this.testPhase++}},beforeDestroy:function(){l=[],h=[],this.stopTimer(),a["a"].screen.allowSleep(),a["a"].orientation.stopNotifications(),a["a"].motion.stopNotifications()}},d=p,c=s("2877"),m=s("9989"),u=s("9c40"),g=s("eebe"),v=s.n(g),f=Object(c["a"])(d,i,r,!1,null,null,null);e["default"]=f.exports;v()(f,"components",{QPage:m["a"],QBtn:u["a"]})}}]);