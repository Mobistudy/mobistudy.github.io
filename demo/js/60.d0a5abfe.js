(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[60],{"0ce2":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("q-page",{attrs:{padding:""}},[e("div",{staticClass:"text-center"},[e("div",{staticClass:"text-center text-h6 q-mt-lg"},[t._v("\n      "+t._s(t.$t("studies.tasks.peakflow.summary"))+"\n    ")]),e("div",{staticClass:"text-center q-my-lg"},t._l(t.PEFs,(function(s,a){return e("p",{key:"pef"+a,attrs:{data:s}},[t._v("\n      "+t._s(a+1)+") "+t._s(s)+" L/min\n    ")])})),0),e("div",{staticClass:"text-bold q-my-lg"},[t._v("\n      "+t._s(t.$t("studies.tasks.peakflow.todayBest"))+" "+t._s(t.pefMax)+" L/min\n    ")])]),e("div",{staticClass:"row justify-around q-mt-lg"},[e("q-btn",{attrs:{color:"secondary",loading:t.sending,label:t.$t("common.discard")},on:{click:function(e){return t.discard()}}}),e("q-btn",{attrs:{color:"primary",loading:t.sending,label:t.$t("common.send")},on:{click:function(e){return t.send()}}})],1)])},r=[],n=(s("14d9"),s("c313")),o=s("6a6d"),i={name:"PeakFlowSummaryPage",props:{report:Object},data:function(){return{PEFs:this.report.PEFs,pefMax:this.report.pefMax,sending:!1}},methods:{async send(){this.sending=!0;try{await n["a"].sendPeakFlow(this.report),await o["a"].setTaskCompletion(this.report.studyKey,this.report.taskId,new Date),await o["a"].addPastPeakFlowMeas({pefMax:this.report.pefMax,createdTS:this.report.createdTS}),this.$router.push({name:"peakFlowReview",params:{report:this.report}})}catch(t){this.sending=!1,console.error(t),this.$q.notify({color:"negative",message:this.$t("errors.connectionError")+" "+t.message,icon:"report_problem"})}},async discard(){this.sending=!0;try{this.report.PEFs="discarded",this.report.pefMax="discarded",await n["a"].sendPeakFlow(this.report),await o["a"].setTaskCompletion(this.report.studyKey,this.report.taskId,new Date),this.$router.push({name:"home"})}catch(t){this.sending=!1,console.error(t),this.$q.notify({color:"negative",message:this.$t("errors.connectionError")+" "+t.message,icon:"report_problem"})}}}},c=i,d=s("2877"),p=s("9989"),l=s("9c40"),h=s("eebe"),m=s.n(h),u=Object(d["a"])(c,a,r,!1,null,null,null);e["default"]=u.exports;m()(u,"components",{QPage:p["a"],QBtn:l["a"]})}}]);