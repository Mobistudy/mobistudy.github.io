(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{c20a:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-layout",[r("q-page-container",[r("q-page",{attrs:{padding:""}},[r("div",{staticClass:"fit row justify-center"},[r("div",{staticClass:"text-h4"},[t._v(t._s(t.$t("accountMgmt.resetPassword.newPassword")))])]),r("div",{staticClass:"fit row justify-center q-mt-lg"},[r("p",{staticClass:"col"},[t._v(t._s(t.$t("accountMgmt.resetPassword.newPasswordExplanation")))])]),r("div",{staticClass:"fit row justify-center q-mt-lg"},[r("q-input",{staticClass:"col-grow",attrs:{type:"text",clearable:"",label:t.$t("accountMgmt.resetPassword.token"),hint:t.$t("accountMgmt.resetPassword.tokenHint"),error:t.$v.token.$error,"error-message":t.$t("accountMgmt.resetPassword.tokenError")},nativeOn:{blur:function(e){return t.$v.token.$touch(e)}},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}})],1),r("div",{staticClass:"fit row justify-center q-mt-lg"},[r("q-input",{staticClass:"col-grow",attrs:{label:t.$t("accountMgmt.resetPassword.newPassword"),type:"password",error:t.$v.newpw.$error,"error-message":t.pwdCheckErrorMsg()},nativeOn:{blur:function(e){return t.$v.newpw.$touch(e)}},model:{value:t.newpw,callback:function(e){t.newpw=e},expression:"newpw"}})],1),r("div",{staticClass:"fit row justify-center q-mt-lg"},[r("q-input",{staticClass:"col-grow",attrs:{label:t.$t("accountMgmt.resetPassword.confirmPwd"),type:"password",error:t.$v.confpw.$error,"error-message":t.$t("accountMgmt.resetPassword.pwdMustMatch")},nativeOn:{blur:function(e){return t.$v.confpw.$touch(e)}},model:{value:t.confpw,callback:function(e){t.confpw=e},expression:"confpw"}})],1),r("div",{staticClass:"fit row justify-center q-mt-lg"},[r("div",{staticClass:"q-ma-sm"},[r("q-btn",{staticClass:"float-right",attrs:{label:t.$t("common.cancel"),color:"secondary",to:"/login"}})],1),r("div",{staticClass:"q-ma-sm"},[r("q-btn",{staticClass:"float-right",attrs:{label:t.$t("accountMgmt.resetPassword.changePassword"),color:"positive",type:"submit"},on:{click:t.resetUserPassword}})],1)])])],1)],1)},a=[],n=(r("96cf"),r("c973")),o=r.n(n),c=r("0d3a"),i=r("b5ae"),u=r("9bf1"),l=r("aa9c"),w={name:"ChangePasswordPage",props:["email"],data:function(){return{userEmail:this.email,token:void 0,newpw:void 0,confpw:void 0}},validations:function(){return{token:{required:i["required"]},newpw:{required:i["required"],pwdStrength:Object(c["a"])(this.userEmail)},confpw:{sameAsPassword:Object(i["sameAs"])("newpw")}}},created:function(){return o()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].logout();case 2:case"end":return t.stop()}}),t)})))()},methods:{pwdCheckErrorMsg:function(){var t=Object(c["c"])(this.email,this.newpw),e=this.$i18n.t(t,c["b"]);return e},resetUserPassword:function(){var t=this;return o()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$v.$touch(),t.$v.error){e.next=11;break}return e.prev=2,e.next=5,l["a"].changePW(t.token,t.newpw);case 5:t.$q.dialog({title:t.$i18n.t("accountMgmt.resetPassword.passwordChanged"),message:t.$i18n.t("accountMgmt.resetPassword.passwordChangedExplanation"),ok:!0,cancel:!1,preventClose:!0}).onOk((function(){t.$router.push("/login")})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),t.$q.notify({color:"negative",message:t.$i18n.t("accountMgmt.resetPassword.changePasswordError")+": "+e.t0.message,icon:"report_problem"});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))()}}},d=w,p=r("2877"),g=r("4d5a"),m=r("09e3"),f=r("9989"),v=r("27f9"),h=r("9c40"),$=r("eebe"),b=r.n($),P=Object(p["a"])(d,s,a,!1,null,null,null);e["default"]=P.exports;b()(P,"components",{QLayout:g["a"],QPageContainer:m["a"],QPage:f["a"],QInput:v["a"],QBtn:h["a"]})}}]);