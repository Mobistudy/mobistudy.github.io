(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[55],{9309:function(t,a,i){"use strict";i.r(a);var r=function(){var t=this,a=t._self._c;return a("q-page",{attrs:{padding:""}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.calibrating,expression:"!calibrating"}],staticClass:"text-center text-h5 q-mt-lg"},[t._v("\n    "+t._s(t.$t("studies.tasks.peakflow.calibration"))+"\n  ")]),a("div",{staticClass:"text-center mobitxt2 q-mt-lg"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.calibrating,expression:"!calibrating"}]},[a("img",{staticStyle:{"max-width":"50%"},attrs:{src:"instructions/peakflow_3.svg"}})]),a("p",{directives:[{name:"show",rawName:"v-show",value:!t.calibrationError&&!t.calibrating,expression:"!calibrationError && !calibrating"}]},[t._v("\n      "+t._s(t.$t("studies.tasks.peakflow.calibrationStart"))+"\n    ")]),t.calibrationError?a("p",[t._v("\n      "+t._s(t.$t("studies.tasks.peakflow.calibrationError"))+"\n    ")]):t._e()]),a("div",{staticClass:"row justify-center q-mt-lg"},[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.calibrating,expression:"!calibrating"}],staticClass:"full-width mobibtn",attrs:{color:"primary",label:t.$t("common.start")},on:{click:t.startCalibration}})],1),a("q-inner-loading",{attrs:{showing:t.calibrating}},[a("div",{staticClass:"mobitxt2",attrs:{color:"dark-grey"}},[t._v(t._s(t.$t("studies.tasks.peakflow.calibrating")))]),a("q-spinner-dots",{attrs:{size:"40px",color:"primary"}})],1)],1)},s=[],e=(i("14d9"),i("ed5d")),n={name:"PeakFlowCalibratePage",props:{studyKey:String,taskId:Number},components:{},data:function(){return{isCompleted:!1,calibrationError:!1,calibrating:!1,calibrateAttempts:0,maxTime:3e4}},methods:{async startCalibration(){this.calibrateAttempts++,this.calibrating=!0,this.calibrationError=!1;try{await e["a"].startCalibration(this.maxTime),this.calibrating=!1,this.$router.push({name:"peakFlow",params:{studyKey:this.studyKey,taskId:parseInt(this.taskId)}})}catch(t){console.error("Error in calibration",t),this.calibrationError=!0,this.calibrating=!1}}},beforeDestroy:function(){e["a"].stopCalibration()}},o=n,l=i("2877"),c=i("9989"),b=i("9c40"),d=i("74f7"),p=i("8380"),m=i("eebe"),w=i.n(m),u=Object(l["a"])(o,r,s,!1,null,null,null);a["default"]=u.exports;w()(u,"components",{QPage:c["a"],QBtn:b["a"],QInnerLoading:d["a"],QSpinnerDots:p["a"]})}}]);